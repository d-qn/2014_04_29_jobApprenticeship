setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
#############################################################################################
###		SETTINGS#
#############################################################################################
#
source("~/swissinfo/_helpers/helpers.R")#
#
#############################################################################################
###  1 - Time series unemployement chart#
#############################################################################################
#
#### A) Using WB unemployment #
#
library(WDI)#
library(rCharts)#
library(plyr)#
#
countries.iso2 <- c('AT', "CH", "EL", "DE", "ES", "FR", "IT", "PT", "GB" )#
unempl <- WDI(country = c(countries, 'US', 'JP', 'BR', 'RU', 'CN'), indicator = "SL.UEM.1524.ZS",#
  start = 1991, extra = FALSE, cache = NULL)#
#
#Clean up the data a bit#
unempl <- rename(unempl, replace = c("SL.UEM.1524.ZS" = "unemployment"))#
unempl$unemployment <- round(unempl$unemployment, 1)#
# Create the chart#
unemplPlot <- nPlot(#
	unemployment ~ year,#
	data = unempl,#
	group = "country",#
	type = "lineChart")#
#
# Add axis labels and format the tooltip#
unemplPlot$yAxis(axisLabel = "Youth (15-24) unemployement in %", width = 62)#
unemplPlot$xAxis(axisLabel = "Year")#
unemplPlot$chart(tooltipContent = "#! function(key, x, y){#
      return '<h3>' + key + '</h3>' +#
      '<p>' + y + ' in ' + x + '</p>'#
      } !#")#
unemplPlot#
unemplPlot$publish("line chart WB youth unemployment", "rpubs")#
ids <- unique(unempl$iso2c)#
country.selec <- as.logical(!ids %in% c('AT','CH'))#
unemplPlot$set(disabled = country.selec)#
unemplPlot
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
#############################################################################################
###		SETTINGS#
#############################################################################################
#
source("~/swissinfo/_helpers/helpers.R")#
#
#############################################################################################
###  1 - Time series unemployement chart#
#############################################################################################
#
#### A) Using WB unemployment #
#
library(WDI)#
library(rCharts)#
library(plyr)#
#
countries.iso2 <- c('AT', "CH", "EL", "DE", "ES", "FR", "IT", "PT", "GB" )#
unempl <- WDI(country = c(countries, 'US', 'JP', 'BR', 'RU', 'CN'), indicator = "SL.UEM.1524.ZS",#
  start = 1991, extra = FALSE, cache = NULL)
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
#############################################################################################
###		SETTINGS#
#############################################################################################
#
source("~/swissinfo/_helpers/helpers.R")#
#
#############################################################################################
###  1 - Time series unemployement chart#
#############################################################################################
#
#### A) Using WB unemployment #
#
library(WDI)#
library(rCharts)#
library(plyr)#
#
countries.iso2 <- c('AT', "CH", "EL", "DE", "ES", "FR", "IT", "PT", "GB" )#
unempl <- WDI(country = c(countries.iso2, 'US', 'JP', 'BR', 'RU', 'CN'), indicator = "SL.UEM.1524.ZS",#
  start = 1991, extra = FALSE, cache = NULL)#
#
#Clean up the data a bit#
unempl <- rename(unempl, replace = c("SL.UEM.1524.ZS" = "unemployment"))#
unempl$unemployment <- round(unempl$unemployment, 1)
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
countries.iso2 <- c('AT', "CH", "DE", "ES", "FR", "IT", "PT", "GB" )#
unempl <- WDI(country = c(countries.iso2, 'US', 'JP', 'BR', 'RU', 'CN'), indicator = "SL.UEM.1524.ZS",#
  start = 1991, extra = FALSE, cache = NULL)#
#
#Clean up the data a bit#
unempl <- rename(unempl, replace = c("SL.UEM.1524.ZS" = "unemployment"))#
unempl$unemployment <- round(unempl$unemployment, 1)#
# Create the chart#
unemplPlot <- nPlot(#
	unemployment ~ year,#
	data = unempl,#
	group = "country",#
	type = "lineChart")#
#
# Add axis labels and format the tooltip#
unemplPlot$yAxis(axisLabel = "Youth (15-24) unemployement in %", width = 62)#
unemplPlot$xAxis(axisLabel = "Year")#
unemplPlot$chart(tooltipContent = "#! function(key, x, y){#
      return '<h3>' + key + '</h3>' +#
      '<p>' + y + ' in ' + x + '</p>'#
      } !#")#
unemplPlot#
unemplPlot$publish("line chart WB youth unemployment", "rpubs")#
ids <- unique(unempl$iso2c)#
country.selec <- as.logical(!ids %in% c('AT','CH'))#
unemplPlot$set(disabled = country.selec)#
unemplPlot
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
country.selec <- as.logical(!ids %in% c('AT','CH','DE','ES','PT','GB'))#
unemplPlot$set(disabled = country.selec)#
unemplPlot
str(unemplPlot)
str(unempl)
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
unemplPlot$publish("line chart World Bank youth unemployment", "rpubs")
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
unemplPlot
unemplPlot$publish(
unemplPlot$publish
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
unemplPlot$publish("line chart World Bank youth unemployment", host = "rpubs")
tail(unempl)
tail(unempl, 50)
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
unempl <- WDI(country = c(countries.iso2, 'US', 'JP', 'BR', 'RU', 'CN'), indicator = "SL.UEM.1524.ZS",#
  start = 1980,  end = 2013, extra = FALSE, cache = NULL)#
#
#Clean up the data a bit#
unempl <- rename(unempl, replace = c("SL.UEM.1524.ZS" = "unemployment"))#
unempl$unemployment <- round(unempl$unemployment, 1)#
# Create the chart#
unemplPlot <- nPlot(#
	unemployment ~ year,#
	data = unempl,#
	group = "country",#
	type = "lineChart")#
#
# Add axis labels and format the tooltip#
unemplPlot$yAxis(axisLabel = "Youth (15-24) unemployement in %", width = 62)#
unemplPlot$xAxis(axisLabel = "Year")#
unemplPlot$chart(tooltipContent = "#! function(key, x, y){#
      return '<h3>' + key + '</h3>' +#
      '<p>' + y + ' in ' + x + '</p>'#
      } !#")#
unemplPlot
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
#############################################################################################
###		SETTINGS#
#############################################################################################
#
source("~/swissinfo/_helpers/helpers.R")#
#
#############################################################################################
###  1 - Time series unemployement chart#
#############################################################################################
#
#### A) Using WB unemployment #
#
library(WDI)#
library(rCharts)#
library(plyr)#
#
countries.iso2 <- c('AT', "CH", "DE", "ES", "FR", "IT", "PT", "GB" )#
unempl <- WDI(country = c(countries.iso2, 'US', 'JP', 'BR', 'RU', 'CN'), indicator = "SL.UEM.1524.ZS",#
  start = 1980,  end = 2013, extra = FALSE, cache = NULL)#
#
#Clean up the data a bit#
unempl <- rename(unempl, replace = c("SL.UEM.1524.ZS" = "unemployment"))#
unempl$unemployment <- round(unempl$unemployment, 1)#
# Create the chart#
unemplPlot <- nPlot(#
	unemployment ~ year,#
	data = unempl,#
	group = "country",#
	type = "lineChart")#
#
# Add axis labels and format the tooltip#
unemplPlot$yAxis(axisLabel = "Youth (15-24) unemployement in %", width = 62)#
unemplPlot$xAxis(axisLabel = "Year")#
unemplPlot$chart(tooltipContent = "#! function(key, x, y){#
      return '<h3>' + key + '</h3>' +#
      '<p>' + y + ' in ' + x + '</p>'#
      } !#")#
unemplPlot#
#
ids <- unique(unempl$iso2c)#
country.selec <- as.logical(!ids %in% c('AT','CH','DE','ES','PT','GB'))#
unemplPlot$set(disabled = country.selec)#
unemplPlot$publish("line chart World Bank youth unemployment", host = "rpubs")
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
#############################################################################################
###		SETTINGS#
#############################################################################################
#
source("~/swissinfo/_helpers/helpers.R")#
#
#############################################################################################
###  1 - Time series unemployement chart#
#############################################################################################
#
#### A) Using WB unemployment #
#
library(WDI)#
library(rCharts)#
library(plyr)#
#
countries.iso2 <- c('AT', "CH", "DE", "ES", "FR", "IT", "PT", "GB" )#
unempl <- WDI(country = c(countries.iso2, 'US', 'JP', 'BR', 'RU', 'CN'), indicator = "SL.UEM.1524.ZS",#
  start = 1991,  end = 2012, extra = FALSE, cache = NULL)#
#
#Clean up the data a bit#
unempl <- rename(unempl, replace = c("SL.UEM.1524.ZS" = "unemployment"))#
unempl$unemployment <- round(unempl$unemployment, 1)#
# Create the chart#
unemplPlot <- nPlot(#
	unemployment ~ year,#
	data = unempl,#
	group = "country",#
	type = "lineChart")#
#
# Add axis labels and format the tooltip#
unemplPlot$yAxis(axisLabel = "Youth (15-24) unemployement in %", width = 62)#
unemplPlot$xAxis(axisLabel = "Year")#
unemplPlot$chart(tooltipContent = "#! function(key, x, y){#
      return '<h3>' + key + '</h3>' +#
      '<p>' + y + ' in ' + x + '</p>'#
      } !#")#
unemplPlot#
ids <- unique(unempl$iso2c)#
country.selec <- as.logical(!ids %in% c('AT','CH','DE','ES','PT','GB'))#
unemplPlot$set(disabled = country.selec)#
unemplPlot$publish("line chart World Bank youth unemployment", host = "rpubs")
p1 <- nPlot(mpg ~ wt, group = 'cyl', data = mtcars, type = 'scatterChart')#
p1$xAxis(axisLabel = 'Weight')#
p1#
## {title: MultiBar Chart}#
hair_eye = as.data.frame(HairEyeColor)#
p2 <- nPlot(Freq ~ Hair, group = 'Eye', data = subset(hair_eye, Sex == "Female"), type = 'multiBarChart')#
p2$chart(color = c('brown', 'blue', '#594c26', 'green'))#
p2#
#
## {title: MultiBar Horizontal Chart}#
p3 <- nPlot(~ cyl, group = 'gear', data = mtcars, type = 'multiBarHorizontalChart')#
p3$chart(showControls = F)#
p3#
#
## {title: Pie Chart}#
p4 <- nPlot(~ cyl, data = mtcars, type = 'pieChart')#
p4#
#
## {title: Donut Chart}#
p5 <- nPlot(~ cyl, data = mtcars, type = 'pieChart')#
p5$chart(donut = TRUE)#
p5#
#
## {title: Line Chart}#
data(economics, package = 'ggplot2')#
p6 <- nPlot(uempmed ~ date, data = economics, type = 'lineChart')#
p6#
#
## {title: Line with Focus Chart }#
ecm <- reshape2::melt(economics[,c('date', 'uempmed', 'psavert')], id = 'date')#
p7 <- nPlot(value ~ date, group = 'variable', data = ecm, type = 'lineWithFocusChart')
p7
library(devtools)#
install_github('slidify', 'ramnathv')#
install_github('slidifyLibraries', 'ramnathv')
unempl
emplPlot
setwd('/Users/nguyendu/Google Drive/swissinfo/2014_04_29_jobApprenticeship/oecd')
library(SmarterPoland)#
empl.data <- getEurostatRCV("yth_empl_010") #http://epp.eurostat.ec.europa.eu/portal/page/portal/youth/data/database#
#
countries.iso2 <- c('AT', "CH", "EL", "DE", "ES", "FR", "IT", "PT", "GB" )#
age <- "Y25-29"#
#
save(empl.data, file = "eurostat_youthEmpl.RData")#
# filter data#
myfilter <- function(data, age = "") {#
	data <- data[data$sex == 'T',]#
	data <- data[data$unit == 'PC',]#
	data$time <- as.numeric(as.character(data$time))#
	if(!is.null(age)) data <- data[data$age == age,]#
#
	data[,!(names(data) %in% c('sex', 'unit'))]#
}#
empl.data  <- myfilter(empl.data, age = age)#
empl <- empl.data[empl.data$geo %in% countries.iso2 & empl.data$isced97 == 'TOTAL' ,]#
# Create the chart#
emplPlot <- nPlot(#
	value ~ time,#
	data = empl,#
	group = "geo",#
	type = "lineChart")#
# Add axis labels and format the tooltip#
emplPlot$yAxis(axisLabel = "Youth (25-29) employed [%]", width = 62)#
emplPlot$xAxis(axisLabel = "Year")#
emplPlot$chart(tooltipContent = "#! function(key, x, y){#
      return '<h3>' + key + '</h3>' +#
      '<p>' + y + ' in ' + x + '</p>'#
      } !#")#
emplPlot
empl.data
